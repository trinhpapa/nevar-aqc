var testPropertyManagement=function(){var n={getPagedAsync:function(n,t,i){$(testPropertyManagement.htmlTag.contentData).LoadingTable();$.ajax({type:"POST",data:{pageIndex:n,pageSize:t,searchString:i},url:"/TestProperty/GetPagedAsync",success:function(t){$(testPropertyManagement.htmlTag.contentData).LoadedTable();$(testPropertyManagement.htmlTag.contentData).html(t);$(testPropertyManagement.htmlTag.paginationTag).paginationBinding(n,15)},error:function(n){throw"Get user error:"+n;}})},createTestPropertyAsync:function(){$(testPropertyManagement.htmlTag.submitForm).buttonLoading();let n=testPropertyManagement.handleEvent.claimFormData();$.ajax({type:"POST",data:n,url:"/TestProperty/CreateAsync",success:function(){testPropertyManagement.ajaxRequest.getPagedAsync(1,15,null);$(testPropertyManagement.htmlTag.submitForm).buttonLoaded(!0);$(testPropertyManagement.htmlTag.propertyName).val("");toastr.success("Tạo chỉ tiêu thành công","Thông báo:")},error:function(n){$(testPropertyManagement.htmlTag.submitForm).buttonLoaded(!1);$(testPropertyManagement.htmlTag.propertyName).val("");toastr.error(n.responseText,"Thông báo:")}})},deleteAsync:function(n){$.ajax({type:"POST",data:{Id:n},url:"/TestProperty/DeleteAsync",success:function(){testPropertyManagement.ajaxRequest.getPagedAsync(1,15,null);toastr.success("Xóa thành công","Thông báo:")},error:function(n){toastr.error(n.responseText,"Thông báo:")}})},getByIdAsync:function(n){$.ajax({type:"POST",data:{propertyId:n},url:"/TestProperty/GetByIdAsync",success:function(n){$(testPropertyManagement.htmlTag.propertyName).val(n.name);$(testPropertyManagement.htmlTag.propertyUnit).val(n.unit);$(testPropertyManagement.htmlTag.propertyObject).val(n.objectId);$(testPropertyManagement.htmlTag.propertyNote).val(n.note)},error:function(n){console.log(n.responseText)}})},updateAsync:function(n){$(testPropertyManagement.htmlTag.updateForm).buttonLoading();let t=testPropertyManagement.handleEvent.claimFormData();t.Id=n;$.ajax({type:"POST",data:t,url:"/TestProperty/UpdateAsync",success:function(){testPropertyManagement.ajaxRequest.getPagedAsync(1,15,null);$(testPropertyManagement.htmlTag.updateForm).buttonLoaded(!0);$(testPropertyManagement.htmlTag.hideForm).click();toastr.success("Cập nhật thành công","Thông báo:")},error:function(n){$(testPropertyManagement.htmlTag.updateForm).buttonLoaded(!1);toastr.error(n.responseText,"Thông báo:")}})}},t={claimFormData:function(){let n=$(testPropertyManagement.htmlTag.propertyName).val();if(n.length<1){$(testPropertyManagement.htmlTag.submitForm).buttonLoaded(!1);toastr.error("Tên không được để trống","Cảnh báo:");$(testPropertyManagement.htmlTag.propertyName).focus();throw"Property name is required";}let t=$(testPropertyManagement.htmlTag.propertyUnit).val(),i=$(testPropertyManagement.htmlTag.propertyObject).val(),r=$(testPropertyManagement.htmlTag.propertyNote).val();return{Name:n,Unit:t,ObjectId:i,Note:r}}};return{htmlTag:{contentData:"#content-data",paginationTag:"#pagination-tag",searchFilterForm:"#search-filter-form",searchFilterContent:"#search-filter",modalHandleForm:"#modal-handle-form",loadingForm:"#loading-form",dataForm:"#data-form",hideForm:"#hide-form",submitForm:"#submit-form",updateForm:"#update-form",propertyName:"#property-name",propertyUnit:"#property-unit",propertyObject:"#property-object",propertyNote:"#property-note",searchContent:"#search-filter"},bindingData:{},ajaxRequest:n,handleEvent:t}}();