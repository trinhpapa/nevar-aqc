var fieldManagement=function(){var n={getPagedAsync:function(n,t,i){$(fieldManagement.htmlTag.contentData).LoadingTable();$.ajax({type:"POST",data:{pageIndex:n,pageSize:t,searchString:i},url:"/Field/GetPagedAsync",success:function(t){$(fieldManagement.htmlTag.contentData).LoadedTable();$(fieldManagement.htmlTag.contentData).html(t);$(fieldManagement.htmlTag.paginationTag).paginationBinding(n,15)},error:function(n){throw"Get user error:"+n;}})},createFiledAsync:function(){$(fieldManagement.htmlTag.submitForm).buttonLoading();let n=fieldManagement.handleEvent.claimFormData();$.ajax({type:"POST",data:n,url:"/Field/CreateAsync",success:function(){fieldManagement.ajaxRequest.getPagedAsync(1,15,null);$(fieldManagement.htmlTag.submitForm).buttonLoaded(!0);$(fieldManagement.htmlTag.hideForm).click();toastr.success("Tạo lĩnh vực thành công","Thông báo:")},error:function(n){$(fieldManagement.htmlTag.submitForm).buttonLoaded(!1);toastr.error(n.responseText,"Thông báo:")}})},deleteAsync:function(n){$.ajax({type:"POST",data:{Id:n},url:"/Field/DeleteAsync",success:function(){fieldManagement.ajaxRequest.getPagedAsync(1,15,null);toastr.success("Xóa thành công","Thông báo:")},error:function(n){toastr.error(n.responseText,"Thông báo:")}})},getByIdAsync:function(n){$.ajax({type:"POST",data:{fieldId:n},url:"/Field/GetByIdAsync",success:function(n){$(fieldManagement.htmlTag.fieldName).val(n.name);$(fieldManagement.htmlTag.fieldSymbol).val(n.symbol);$(fieldManagement.htmlTag.fieldNote).val(n.note)},error:function(n){console.log(n.responseText)}})},updateAsync:function(n){$(fieldManagement.htmlTag.updateForm).buttonLoading();let t=fieldManagement.handleEvent.claimFormData();t.Id=n;$.ajax({type:"POST",data:t,url:"/Field/UpdateAsync",success:function(){fieldManagement.ajaxRequest.getPagedAsync(1,15,null);$(fieldManagement.htmlTag.updateForm).buttonLoaded(!0);$(fieldManagement.htmlTag.hideForm).click();toastr.success("Cập nhật thành công","Thông báo:")},error:function(n){$(fieldManagement.htmlTag.updateForm).buttonLoaded(!1);toastr.error(n.responseText,"Thông báo:")}})}},t={claimFormData:function(){let n=$(fieldManagement.htmlTag.fieldName).val();if(n.length<1){$(fieldManagement.htmlTag.submitForm).buttonLoaded(!1);toastr.error("Tên không được để trống","Cảnh báo:");$(fieldManagement.htmlTag.fieldName).focus();throw"Field name is required";}let t=$(fieldManagement.htmlTag.fieldSymbol).val();if(t.length<1){$(fieldManagement.htmlTag.submitForm).buttonLoaded(!1);toastr.error("Ký hiệu không được để trống","Cảnh báo:");$(fieldManagement.htmlTag.fieldSymbol).focus();throw"Field symbol is required";}let i=$(fieldManagement.htmlTag.fieldNote).val();return{Name:n,Symbol:t,Note:i}}};return{htmlTag:{contentData:"#content-data",paginationTag:"#pagination-tag",searchFilterForm:"#search-filter-form",searchFilterContent:"#search-filter",modalFieldForm:"#modal-field-form",loadingForm:"#loading-form",fieldForm:"#field-form",hideForm:"#hide-form",submitForm:"#submit-form",updateForm:"#update-form",fieldName:"#field-name",fieldSymbol:"#field-symbol",fieldNote:"#field-note"},bindingData:{},ajaxRequest:n,handleEvent:t}}();