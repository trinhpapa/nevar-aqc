var testMethodManagement=function(){var n={getTestPropertyByTestObject:function(){let n=$("#method-object").val();$.ajax({type:"POST",data:{objectId:n},url:"/TestMethod/GetTestPropertyByObject",success:function(n){$("#method-property").empty();$.each(n,function(n,t){$("#method-property").append('<option value="'+t.id+'">'+t.name+"<\/option>")})},error:function(n){throw"Get user error:"+n;}})},getPagedAsync:function(n,t,i){$(testMethodManagement.htmlTag.contentData).LoadingTable();$.ajax({type:"POST",data:{pageIndex:n,pageSize:t,searchString:i},url:"/TestMethod/GetPagedAsync",success:function(t){$(testMethodManagement.htmlTag.contentData).LoadedTable();$(testMethodManagement.htmlTag.contentData).html(t);$(testMethodManagement.htmlTag.paginationTag).paginationBinding(n,15)},error:function(n){throw"Get user error:"+n;}})},createTestMethodAsync:function(){$(testMethodManagement.htmlTag.submitForm).buttonLoading();let n=testMethodManagement.handleEvent.claimFormData();$.ajax({type:"POST",data:n,url:"/TestMethod/CreateAsync",success:function(){testMethodManagement.ajaxRequest.getPagedAsync(1,15,null);$(testMethodManagement.htmlTag.submitForm).buttonLoaded(!0);$(testMethodManagement.htmlTag.methodName).val("");toastr.success("Tạo phương pháp thử thành công","Thông báo:")},error:function(n){$(testMethodManagement.htmlTag.submitForm).buttonLoaded(!1);$(testMethodManagement.htmlTag.methodName).val("");toastr.error(n.responseText,"Thông báo:")}})},deleteAsync:function(n){$.ajax({type:"POST",data:{Id:n},url:"/TestMethod/DeleteAsync",success:function(){testMethodManagement.ajaxRequest.getPagedAsync(1,15,null);toastr.success("Xóa thành công","Thông báo:")},error:function(n){toastr.error(n.responseText,"Thông báo:")}})},getByIdAsync:function(n){$.ajax({type:"POST",data:{methodId:n},url:"/TestMethod/GetByIdAsync",success:function(n){$(testMethodManagement.htmlTag.methodName).val(n.name);$(testMethodManagement.htmlTag.methodSymbol).val(n.symbolAttached);$(testMethodManagement.htmlTag.methodNote).val(n.note)},error:function(n){console.log(n.responseText)}})},updateAsync:function(n){$(testMethodManagement.htmlTag.updateForm).buttonLoading();let t=testMethodManagement.handleEvent.claimFormData();t.Id=n;$.ajax({type:"POST",data:t,url:"/TestMethod/UpdateAsync",success:function(){testMethodManagement.ajaxRequest.getPagedAsync(1,15,null);$(testMethodManagement.htmlTag.updateForm).buttonLoaded(!0);$(testMethodManagement.htmlTag.hideForm).click();toastr.success("Cập nhật thành công","Thông báo:")},error:function(n){$(testMethodManagement.htmlTag.updateForm).buttonLoaded(!1);toastr.error(n.responseText,"Thông báo:")}})}},t={claimFormData:function(){let n=$(testMethodManagement.htmlTag.methodName).val();if(n.length<1){$(testMethodManagement.htmlTag.submitForm).buttonLoaded(!1);toastr.error("Tên không được để trống","Cảnh báo:");$(testMethodManagement.htmlTag.methodName).focus();throw"Method name is required";}let t=$(testMethodManagement.htmlTag.methodSymbol).val(),i=$(testMethodManagement.htmlTag.methodProperty).val(),r=$(testMethodManagement.htmlTag.methodNote).val();return{Name:n,SymbolAttached:t,TestPropertyId:i,Note:r}}};return{htmlTag:{contentData:"#content-data",paginationTag:"#pagination-tag",searchFilterForm:"#search-filter-form",searchFilterContent:"#search-filter",modalHandleForm:"#modal-handle-form",loadingForm:"#loading-form",dataForm:"#data-form",hideForm:"#hide-form",submitForm:"#submit-form",updateForm:"#update-form",methodName:"#method-name",methodSymbol:"#method-symbol",methodNote:"#method-note",methodProperty:"#method-property"},bindingData:{},ajaxRequest:n,handleEvent:t}}();